<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Unlock: Avatar State</title>

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at center, #0f172a, #020617);
      font-family: Georgia, serif;
      color: white;
      text-align: center;
      padding: 20px;

      /* ‚úÖ allow scrolling if content is taller than screen */
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    /* ===== Background glow + particles ===== */
    .bg-glow {
      position: fixed;
      inset: 0;
      z-index: -1;
      overflow: hidden;
    }

    .bg-glow::before {
      content: "";
      position: absolute;
      inset: -30%;
      background:
        radial-gradient(circle at 50% 40%, rgba(56,189,248,0.35), transparent 55%),
        radial-gradient(circle at 30% 70%, rgba(167,139,250,0.30), transparent 60%),
        radial-gradient(circle at 70% 75%, rgba(56,189,248,0.25), transparent 55%);
      filter: blur(12px);
      animation: drift 10s ease-in-out infinite alternate;
    }

    @keyframes drift {
      from { transform: translate(-10px, -10px); }
      to   { transform: translate(12px, 8px); }
    }

    .particle {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: rgba(255,255,255,0.35);
      animation: floatUp linear infinite;
      pointer-events: none;
    }

    @keyframes floatUp {
      from { transform: translateY(40vh); opacity: 0; }
      15%  { opacity: 0.9; }
      to   { transform: translateY(-120vh); opacity: 0; }
    }

    /* ===== Main button ===== */
    .primary-btn {
      font-size: 1.25rem;
      padding: 14px 28px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.2);
      cursor: pointer;
      background: linear-gradient(135deg, #38bdf8, #a78bfa);
      color: #020617;
      box-shadow: 0 0 30px rgba(56,189,248,0.25);
      transition: all 0.2s ease;
    }

    .primary-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 45px rgba(56,189,248,0.35);
    }

    /* ===== Card ===== */
    #card {
      display: none;
      max-width: 520px;
      width: 100%;
      padding: 42px;
      border-radius: 22px;
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(6px);
      box-shadow: 0 0 60px rgba(168,139,250,0.55);
      opacity: 0;
      transform: perspective(900px) rotateX(-18deg);

      /* ‚úÖ keep the card from exceeding the screen height */
      max-height: calc(100vh - 60px);
      overflow: hidden; /* internal scroller handles content */
    }

    #card.show {
      animation: openCard 0.7s cubic-bezier(.2,.9,.2,1) forwards;
    }

    @keyframes openCard {
      0%   { opacity: 0; transform: perspective(900px) rotateX(-22deg); }
      100% { opacity: 1; transform: perspective(900px) rotateX(0deg); }
    }

    .avatar-symbol {
      font-size: 4rem;
      margin-bottom: 14px;
      animation: glow 2s infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #38bdf8; }
      to   { text-shadow: 0 0 30px #a78bfa; }
    }

    /* ‚úÖ Scrollable content area inside the card */
    .card-inner {
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      max-height: calc(100vh - 60px - 84px); /* viewport minus padding-ish */
      padding-right: 6px; /* small space for scrollbar */
    }

    /* ===== Pages ===== */
    .page {
      display: none;
      min-height: 220px;
    }

    .page.active {
      display: block;
      animation: fadeIn 0.35s ease both;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Lines/blocks fade in quickly */
    .fade {
      opacity: 0;
      transform: translateY(6px);
      transition: 0.35s ease;
    }

    .fade.show {
      opacity: 1;
      transform: translateY(0);
    }

    p {
      line-height: 1.7;
      font-size: 1.05rem;
      margin: 12px 0;
    }

    /* Long text block (no typing) */
    .message {
      text-align: left;
      line-height: 1.75;
      font-size: 1.02rem;
      white-space: normal;
    }

    /* Happy Birthday emphasis */
    .big {
      margin-top: 26px;
      font-size: 1.85rem;
      letter-spacing: 0.3px;
      text-shadow: 0 0 14px rgba(56,189,248,0.6);
      opacity: 0;
      transform: translateY(6px);
      transition: 0.35s ease;
      text-align: center;
    }

    .big.show {
      opacity: 1;
      transform: translateY(0);
    }

    .signoff {
      margin-top: 10px;
      opacity: 0;
      transform: translateY(6px);
      transition: 0.35s ease;
      text-align: center;

      /* ‚úÖ extra space so nothing feels cut off */
      padding-bottom: 26px;
    }

    .signoff.show {
      opacity: 1;
      transform: translateY(0);
    }

    .controls {
      margin-top: 22px;
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }

    .secondary-btn {
      font-size: 1rem;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.10);
      color: rgba(255,255,255,0.92);
      cursor: pointer;
      transition: 0.2s ease;
    }

    .secondary-btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.06);
    }

    @media (max-width: 420px) {
      #card { padding: 28px; }
      p { font-size: 1.02rem; }
      .message { font-size: 0.98rem; }
      .big { font-size: 1.55rem; }
    }
  </style>
</head>

<body>
  <div class="bg-glow" id="bg"></div>

  <button class="primary-btn" id="openBtn" onclick="openCard()">Unlock: Avatar State üåÄ</button>

  <div id="card">
    <div class="card-inner">
      <div class="avatar-symbol">üåÄ</div>

      <!-- PAGE 1 -->
      <div class="page" id="page1">
        <p class="fade" id="line1">Long ago, the Four Nations lived in harmony...</p>
        <div class="controls">
          <button class="secondary-btn" onclick="goToPage(2)">Next ‚ûú</button>
        </div>
      </div>

      <!-- PAGE 2 -->
      <div class="page" id="page2">
        <p class="fade" id="line2">Then everything changed when you turned <strong>22</strong>!</p>
        <div class="controls">
          <button class="secondary-btn" onclick="goToPage(1)">‚óÄ Back</button>
          <button class="secondary-btn" onclick="goToPage(3)">Next ‚ûú</button>
        </div>
      </div>

      <!-- PAGE 3 -->
      <div class="page" id="page3">
        <div class="message fade" id="msg">
          You‚Äôre about to graduate, maybe move and start your first full time job, and probably run your first marathon too! There are a lot of ‚Äúfirsts‚Äù ahead; some that are happening because life moves forward, but others because you choose for it to happen...and I think the latter says a lot about you. I really admire that about you-- how focused you are on growth, your endless energy and ability to try new things with a smile and stay openminded on your progress. Side note, it just hit me that we‚Äôve been friends for almost three years now, which is kind of crazy. Time moves fast! anyways, Uncle Iroh once said: ‚ÄúI encourage you to trust your instincts and follow your heart. I feel like you have a great moral compass and know what‚Äôs best for you at the end of the day.‚Äù Just kidding, you told me that when I was going through a rough patch. As you encounter your firsts, whether you feel like the world is going against you or for you, I hope you keep taking your own advice ‚Äî it suits you well. Congrats on mastering another year, Avatar.
        </div>

        <div class="big" id="bigLine">Happy 22nd birthday, Ayande!</div>
        <div class="signoff" id="signoff">love, Zora</div>

        <div class="controls">
          <button class="secondary-btn" onclick="goToPage(2)">‚óÄ Back</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Particles
    const bg = document.getElementById("bg");
    for (let i = 0; i < 30; i++) {
      const p = document.createElement("div");
      p.className = "particle";
      p.style.left = Math.random() * 100 + "vw";
      p.style.top = (Math.random() * 120 - 20) + "vh";
      p.style.animationDuration = (6 + Math.random() * 10) + "s";
      p.style.animationDelay = (-Math.random() * 10) + "s";
      bg.appendChild(p);
    }

    function openCard() {
      document.getElementById("openBtn").style.display = "none";
      const card = document.getElementById("card");
      card.style.display = "block";
      card.classList.add("show");
      goToPage(1);

      // ‚úÖ no lag: reveal immediately (tiny timeout just to allow CSS paint)
      setTimeout(() => document.getElementById("line1").classList.add("show"), 10);
    }

    function goToPage(n) {
      // reset scroll to top of card-inner when changing pages
      document.querySelector(".card-inner").scrollTop = 0;

      document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
      document.getElementById(`page${n}`).classList.add("active");

      if (n === 1) {
        document.getElementById("line1").classList.add("show");
      }

      if (n === 2) {
        // ‚úÖ no lag: show immediately
        document.getElementById("line2").classList.add("show");
      }

      if (n === 3) {
        // Fade in message + then reveal HBD + signoff
        const msg = document.getElementById("msg");
        msg.classList.add("show");

        setTimeout(() => document.getElementById("bigLine").classList.add("show"), 250);
        setTimeout(() => document.getElementById("signoff").classList.add("show"), 450);
      }
    }
  </script>
</body>
</html>
